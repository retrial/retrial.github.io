"use strict";(self.webpackChunkexchange_admin=self.webpackChunkexchange_admin||[]).push([[649],{5315:(e,a,l)=>{l.r(a),l.d(a,{default:()=>k});var s=l(2791);l.p;var n=l(1616),r=l(1719),t=l(9434),i=l(4894),c=l(3160),o=l(6873);function d(e){return{type:o.IX,payload:e}}function p(e){return{type:o.Tx,payload:e}}const u=(0,c.bH)();function y(e,a){return l=>{u.get((0,i.dF)(i.ns.BALANCES+"/clients/".concat(e)),{params:a,headers:{"Content-Type":"application/json"}}).then((e=>{var a;l((a=e.data,{type:o.qD,payload:a}))})).catch((e=>{e.response&&e.response.data&&e.response.data.error?l(p(e.response.data.error)):l(p(e.message))}))}}function m(){return e=>{u.get((0,i.dF)(i.ns.BALANCES+"/platform"),{headers:{"Content-Type":"application/json"}}).then((a=>{var l;e((l=a.data,{type:o.Qd,payload:l}))})).catch((a=>{a.response&&a.response.data&&a.response.data.error?e(d(a.response.data.error)):e(d(a.message))}))}}var v=l(3329);const g=function(e){let{ccy:a,total:l,commission:i}=e;const c=(0,t.I0)(),o=(0,t.v9)((e=>e.platformBalances.usersBalancesByCcy)),[d,p]=(0,s.useState)(!1),[u,m]=(0,s.useState)(o.data||[]),[g,h]=(0,s.useState)(1);(0,s.useEffect)((()=>{o!==u&&(h(o.pages),m(o.data||[]),p(!1))}),[o]);const x=[{Header:"User ID",accessor:"publicId",width:100,getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"left"}}},{Header:"User Name",Cell:e=>(0,v.jsx)("span",{children:e.original.firstName+" "+e.original.lastName}),getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"left"}}},{Header:"Balance",accessor:"clientBalance",Cell:e=>(0,v.jsx)("span",{children:(+e.original.clientBalance).toFixed(r.lp[a].precision)}),getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}}},{Header:"Platform commission",accessor:"platformFees",Cell:e=>(0,v.jsx)("span",{children:(-1*+e.original.platformFees).toFixed(r.lp[a].precision)}),getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}}},{Header:"Imbalance",accessor:"imbalance",width:100,Cell:e=>(0,v.jsx)("span",{children:(+e.original.imbalance).toFixed(r.lp[a].precision)}),getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}}}];return(0,v.jsxs)("div",{className:"platformBalances",children:[(0,v.jsxs)("div",{className:"platformBalances-wrap",children:[(0,v.jsxs)("div",{className:"platformBalances-total",children:[(0,v.jsx)("span",{children:"Currency"}),(0,v.jsx)("span",{children:a})]}),(0,v.jsxs)("div",{className:"platformBalances-total",children:[(0,v.jsx)("span",{children:"Total commission"}),(0,v.jsx)("span",{children:(+i).toFixed(r.lp[a].precision)})]}),(0,v.jsxs)("div",{className:"platformBalances-total",children:[(0,v.jsx)("span",{children:"Total balance"}),(0,v.jsx)("span",{children:(+l).toFixed(r.lp[a].precision)})]})]}),(0,v.jsx)(n.Z,{defaultPageSize:20,columns:x,loading:d,data:u,pages:g,manual:!0,onFetchData:(e,l)=>{p(!0),c(y(a,{page:Number(e.page)+1,perPage:e.pageSize,sorted:e.sorted}))}})]})};var h=l(1694),x=l.n(h),f=l(7689);const k=function(){const e=(0,t.I0)(),a=(0,f.s0)(),l=(0,f.UO)(),c=(0,t.v9)((e=>e.platformBalances.balances)),[o,d]=(0,s.useState)(!1),[p,u]=(0,s.useState)(c||[]),[h,k]=(0,s.useState)("USDT"),[j,T]=(0,s.useState)(""),[B,C]=(0,s.useState)("");(0,s.useEffect)((()=>{c!==p&&(u(c||[]),d(!1),T(c&&c[0].platformBalance),C(c&&-1*c[0].platformFees))}),[c]);const b=[{Header:"Currency",Cell:s=>(0,v.jsx)("span",{className:x()({balanceCcy:!0,"active-ccy":l.ccy===s.original.currency}),onClick:()=>{e(y(s.original.currency,{page:1,perPage:20,sorted:[]})),((e,a,l)=>{k(e),T(a),C(l)})(s.original.currency,s.original.platformAssets,s.original.platformFees),a(i.Hu.platformBalances+"/".concat(s.original.currency))},children:s.original.currency}),getProps:(e,a,l)=>void 0===a?e:{style:{padding:0}}},{Header:"Balance",accessor:"platformBalance",getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}},Cell:e=>(0,v.jsx)("span",{children:(+e.original.clientBalance).toFixed(r.lp[e.original.currency].precision)})},{Header:"Platform commission",accessor:"platformFees",getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}},Cell:e=>(0,v.jsx)("span",{children:(-1*+e.original.platformFees).toFixed(r.lp[e.original.currency].precision)})},{Header:"Total",accessor:"platformBalance",getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}},Cell:e=>(0,v.jsx)("span",{children:(+e.original.platformBalance).toFixed(r.lp[e.original.currency].precision)})},{Header:"Imbalance",accessor:"imbalance",getProps:(e,a,l)=>void 0===a?e:{style:{textAlign:"right"}},Cell:e=>(0,v.jsx)("span",{children:(+e.original.imbalance).toFixed(r.lp[e.original.currency].precision)})}];return(0,v.jsxs)("div",{className:"container-wrap",children:[(0,v.jsxs)("div",{className:"platformBalances-titles",children:[(0,v.jsx)("span",{children:"Platform balances"}),(0,v.jsx)("span",{children:"User balances"})]}),(0,v.jsx)("div",{className:"container-tabs tabs",children:(0,v.jsxs)("div",{className:"ta platformBalances-wrap",children:[(0,v.jsx)("div",{className:"platformBalances",children:(0,v.jsx)(n.Z,{defaultPageSize:3,columns:b,loading:o,data:p,manual:!0,onFetchData:()=>{d(!0),e(m())}})}),(0,v.jsx)(g,{ccy:h,commission:B,total:j})]})})]})}},1719:(e,a,l)=>{l.d(a,{Dk:()=>m,JV:()=>c,Us:()=>i,V:()=>o,bf:()=>d,cY:()=>n,d4:()=>r,dO:()=>p,lp:()=>s,rE:()=>y,ui:()=>t,yy:()=>u});const s={BTC:{symbol:"BTC",title:"Bitcoin",precision:8},ETH:{symbol:"ETH",title:"Ethereum",precision:8},LTC:{symbol:"LTC",title:"Litecoin",precision:8},USDT:{symbol:"USDT",title:"Tether",precision:8}},n=[{key:"BTC_USDT",value:"BTC/USDT"},{key:"ETH_USDT",value:"ETH/USDT"},{key:"LTC_USDT",value:"LTC/USDT"}],r=[{key:"USDT",value:"USDT"}],t=[{key:"1",value:"withdrawal"},{key:"2",value:"deposit"},{key:"3",value:"fee"},{key:"4",value:"duplicate"}],i=[{key:"0",value:"new"},{key:"1",value:"pending"},{key:"2",value:"approved"},{key:"3",value:"rejected"},{key:"4",value:"admin account"}],c=[{key:"1",value:"processed"},{key:"2",value:"failed"},{key:"3",value:"pending"}],o=[{key:"7",value:"Rejected"},{key:"3",value:"Pending"}],d=[{key:"7",value:"Approved"},{key:"8",value:"Partially Approved"},{key:"9",value:"Returned"}],p=[{key:"sell",value:"sell"},{key:"buy",value:"buy"}],u=[{key:"2",value:"Approved"},{key:"4",value:"Returned"}],y=[{key:"0",value:"New"},{key:"1",value:"Pending"},{key:"2",value:"Approved"},{key:"3",value:"Rejected"},{key:"4",value:"Returned"},{key:"5",value:"AdminAccount"}],m=[{key:"0",value:"New"},{key:"1",value:"Pending"},{key:"2",value:"Approved"},{key:"3",value:"Rejected"},{key:"4",value:"AdminAccount"},{key:"5",value:"Archive"}]}}]);
//# sourceMappingURL=649.c14d64b5.chunk.js.map