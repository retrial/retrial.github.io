{"version":3,"file":"static/js/691.53aa5649.chunk.js","mappings":"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","sources":["components/AdminCabinet/Security/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./index.less\";\nimport { URLS_LOCAL } from \"../../../utils/config/URLS\";\nimport Input from \"../../Common/Input\";\nimport { User2FaChangeOtp } from \"../../../store/actions/userActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  User2FaChangeStatusAction,\n  User2FaGenerateSecretAction,\n} from \"../../../requests/userRequests\";\n\nconst Security = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const params = useParams();\n  const security = useSelector((store) => store.user.security);\n  function onOtpChange(e) {\n    dispatch(User2FaChangeOtp(e.target.value));\n  }\n  function onChangeStatus() {\n    dispatch(\n      User2FaChangeStatusAction(\n        security.otp,\n        security.mfaEnabled,\n        () => false,\n        () => false\n      )\n    );\n  }\n  useEffect(() => {\n    if (params.step === undefined && security.mfaEnabled) {\n      navigate(URLS_LOCAL.SECURITY.change_status);\n    }\n  }, [params, security.mfaEnabled]);\n  const stepInitial = () => (\n    <div className=\"qr\">\n      <div className=\"qr-header\">\n        <img\n          className=\"google-icon\"\n          src={`/img/svg/icons/google-authenticator.svg`}\n        />\n        <span>\n          <span>Google Authenticator</span>\n        </span>\n      </div>\n      <span className=\"securityOptions\">\n        Use Google's Android or iPhone app for adding token-based 2FA.\n      </span>\n      <span>Protected actions:</span>\n      <ul>\n        <li>- Logins</li>\n        <li>- Withdrawal Confirmations</li>\n        <li>- Password Changes</li>\n        <li>- API Key Creation</li>\n        <li>- Security Settings Changes</li>\n        <li>- Sensitive Account Settings Changes</li>\n      </ul>\n      <button onClick={() => dispatch(User2FaGenerateSecretAction())}>\n        Set Up\n      </button>\n    </div>\n  );\n  const stepGenerateSecret = () => (\n    <div className=\"qr\">\n      <div className=\"qr-header\">\n        <img\n          className=\"qr-code\"\n          src={`data:image/png;base64,${security.imgBase64}`}\n        />\n        <Input disabled={true} value={security.secret} />\n      </div>\n      <button onClick={() => console.log(params.step)}>Next Step</button>\n    </div>\n  );\n  const stepChangeStatus = () => (\n    <div className=\"qr\">\n      <div className=\"qr-header\">\n        <span>Please enter 6-digit code</span>\n        <Input\n          value={security.otp}\n          onChange={onOtpChange}\n          name={\"2factor_code\"}\n        />\n      </div>\n      <button onClick={onChangeStatus}>\n        {security.mfaEnabled ? \"Turn Off Two Factor\" : \"Turn On Two Factor\"}\n      </button>\n    </div>\n  );\n\n  return (\n    <div className=\"container-tabs\">\n      <div className=\"container\">\n        <div className=\"container-wrap\">\n          <div className=\"container-tabs-header\">\n            <span>Security</span>\n          </div>\n          <div className=\"securityContent\">\n            <span className=\"securityContent-title\">\n              Two-Factor Authentication\n            </span>\n            <span>Using Two-factor authentication is highly recommended.</span>\n            <span>\n              Please consider our available options for increasing the security\n              of your account. We want to give you every opportunity to be\n              confident that your account is secure.\n            </span>\n            <span>Your current coverage</span>\n            <span>- Logins</span>\n            <span>- Withdrawal Confirmations</span>\n          </div>\n          {(() => {\n            switch (params.step) {\n              case \"generate-secret\":\n                return stepGenerateSecret();\n              case \"change-status\":\n                return stepChangeStatus();\n              default:\n                return stepInitial();\n            }\n          })()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Security;\n"],"names":["Security","dispatch","useDispatch","navigate","useNavigate","params","useParams","security","useSelector","store","user","onOtpChange","e","User2FaChangeOtp","target","value","onChangeStatus","User2FaChangeStatusAction","otp","mfaEnabled","useEffect","undefined","step","URLS_LOCAL","SECURITY","change_status","_jsx","className","children","_jsxs","src","concat","imgBase64","Input","disabled","secret","onClick","console","log","onChange","name","User2FaGenerateSecretAction"],"sourceRoot":""}